<!doctype html>
<html lang="en" id="top">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Booking — Explore Portugal Experience</title>

  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <link rel="icon" href="/favicon.ico">
  <link rel="stylesheet" href="/assets/css/style.css" />

  <meta name="description" content="Book your premium transfer or private tour with Explore Portugal Experience." />
</head>

<body>
  <div id="site-header"></div>

  <main class="page">
    <section class="section">
      <div class="wrap">
        <h1 class="h2" style="font-size: clamp(22px, 3vw, 34px); margin-bottom: 8px;">Booking</h1>
        <p class="p" style="margin-bottom: 18px;">
          Tell me the details — I’ll reply with a VIP quote and confirmation.
        </p>

        <div class="hero-panel" style="padding:18px;">
          <form class="booking-form" id="bookingForm">

            <div class="grid-3">
              <!-- Trip type -->
              <div class="field">
                <label class="label" for="cs-trip-btn">Trip</label>
                <div class="cselect" data-name="trip">
                  <button id="cs-trip-btn" type="button" class="cselect-btn" aria-haspopup="listbox" aria-expanded="false">
                    <span class="cselect-value" data-placeholder="Select trip type">Select trip type</span>
                    <span class="cselect-chevron" aria-hidden="true">▾</span>
                  </button>
                  <ul class="cselect-list" role="listbox" tabindex="-1" aria-label="Trip type">
                    <li class="cselect-option" role="option" tabindex="0" data-value="one-way">One-way</li>
                    <li class="cselect-option" role="option" tabindex="-1" data-value="return">Return</li>
                    <li class="cselect-option" role="option" tabindex="-1" data-value="hourly">Hourly Chauffeur</li>
                    <li class="cselect-option" role="option" tabindex="-1" data-value="tour">Private Tour</li>
                  </ul>
                  <input type="hidden" name="trip" value="">
                </div>
              </div>

              <!-- Service -->
              <div class="field">
                <label class="label" for="cs-service2-btn">Service</label>
                <div class="cselect" data-name="service">
                  <button id="cs-service2-btn" type="button" class="cselect-btn" aria-haspopup="listbox" aria-expanded="false">
                    <span class="cselect-value" data-placeholder="Choose a service">Choose a service</span>
                    <span class="cselect-chevron" aria-hidden="true">▾</span>
                  </button>
                  <ul class="cselect-list" role="listbox" tabindex="-1" aria-label="Service">
                    <li class="cselect-option" role="option" tabindex="0" data-value="airport-transfer">Airport Transfer</li>
                    <li class="cselect-option" role="option" tabindex="-1" data-value="city-transfer">City Transfer</li>
                    <li class="cselect-option" role="option" tabindex="-1" data-value="chauffeur">Chauffeur (Hourly)</li>
                    <li class="cselect-option" role="option" tabindex="-1" data-value="private-tour">Private Tour</li>
                  </ul>
                  <input type="hidden" name="service" value="">
                </div>
              </div>

              <!-- Vehicle -->
              <div class="field">
                <label class="label" for="cs-vehicle-btn">Vehicle</label>
                <div class="cselect" data-name="vehicle">
                  <button id="cs-vehicle-btn" type="button" class="cselect-btn" aria-haspopup="listbox" aria-expanded="false">
                    <span class="cselect-value" data-placeholder="Select vehicle class">Select vehicle class</span>
                    <span class="cselect-chevron" aria-hidden="true">▾</span>
                  </button>
                  <ul class="cselect-list" role="listbox" tabindex="-1" aria-label="Vehicle class">
                    <li class="cselect-option" role="option" tabindex="0" data-value="standard">Standard</li>
                    <li class="cselect-option" role="option" tabindex="-1" data-value="executive">Executive</li>
                    <li class="cselect-option" role="option" tabindex="-1" data-value="premium">Premium / VIP</li>
                    <li class="cselect-option" role="option" tabindex="-1" data-value="van">Van / Group</li>
                  </ul>
                  <input type="hidden" name="vehicle" value="">
                </div>
              </div>
            </div>

            <div style="height:14px;"></div>

            <div class="grid-3">
              <!-- From -->
              <div class="field">
                <label class="label" for="cs-from2-btn">From</label>
                <div class="cselect" data-name="from">
                  <button id="cs-from2-btn" type="button" class="cselect-btn" aria-haspopup="listbox" aria-expanded="false">
                    <span class="cselect-value" data-placeholder="Select pickup">Select pickup</span>
                    <span class="cselect-chevron" aria-hidden="true">▾</span>
                  </button>
                  <ul class="cselect-list" role="listbox" tabindex="-1" aria-label="Pickup">
                    <li class="cselect-option" role="option" tabindex="0" data-value="lisbon">Lisbon</li>
                    <li class="cselect-option" role="option" tabindex="-1" data-value="porto">Porto</li>
                    <li class="cselect-option" role="option" tabindex="-1" data-value="cascais">Cascais</li>
                    <li class="cselect-option" role="option" tabindex="-1" data-value="sintra">Sintra</li>
                    <li class="cselect-option" role="option" tabindex="-1" data-value="algarve">Algarve</li>
                    <li class="cselect-option" role="option" tabindex="-1" data-value="london">London</li>
                    <li class="cselect-option" role="option" tabindex="-1" data-value="paris">Paris</li>
                    <li class="cselect-option" role="option" tabindex="-1" data-value="madrid">Madrid</li>
                    <li class="cselect-option" role="option" tabindex="-1" data-value="barcelona">Barcelona</li>
                  </ul>
                  <input type="hidden" name="from" value="">
                </div>
              </div>

              <!-- To -->
              <div class="field">
                <label class="label" for="cs-to2-btn">To</label>
                <div class="cselect" data-name="to">
                  <button id="cs-to2-btn" type="button" class="cselect-btn" aria-haspopup="listbox" aria-expanded="false">
                    <span class="cselect-value" data-placeholder="Select destination">Select destination</span>
                    <span class="cselect-chevron" aria-hidden="true">▾</span>
                  </button>
                  <ul class="cselect-list" role="listbox" tabindex="-1" aria-label="Destination">
                    <li class="cselect-option" role="option" tabindex="0" data-value="lisbon">Lisbon</li>
                    <li class="cselect-option" role="option" tabindex="-1" data-value="porto">Porto</li>
                    <li class="cselect-option" role="option" tabindex="-1" data-value="cascais">Cascais</li>
                    <li class="cselect-option" role="option" tabindex="-1" data-value="sintra">Sintra</li>
                    <li class="cselect-option" role="option" tabindex="-1" data-value="algarve">Algarve</li>
                    <li class="cselect-option" role="option" tabindex="-1" data-value="london">London</li>
                    <li class="cselect-option" role="option" tabindex="-1" data-value="paris">Paris</li>
                    <li class="cselect-option" role="option" tabindex="-1" data-value="madrid">Madrid</li>
                    <li class="cselect-option" role="option" tabindex="-1" data-value="rome">Rome</li>
                  </ul>
                  <input type="hidden" name="to" value="">
                </div>
              </div>

              <!-- Pickup address -->
              <div class="field">
                <label class="label" for="pickupAddress">Pickup address / hotel / terminal</label>
                <input id="pickupAddress" class="input" type="text" placeholder="e.g., Lisbon Airport (T1), Hotel name, street..." />
              </div>
            </div>

            <div style="height:14px;"></div>

            <div class="grid-3">
              <!-- Date -->
              <div class="field">
                <label class="label" for="dateGo">Date</label>
                <input id="dateGo" class="input" type="date" />
              </div>

              <!-- Time -->
              <div class="field">
                <label class="label" for="timeGo">Time</label>
                <input id="timeGo" class="input" type="time" />
              </div>

              <!-- Return date (only if Return) -->
              <div class="field" id="returnWrap" style="display:none;">
                <label class="label" for="dateReturn">Return date</label>
                <input id="dateReturn" class="input" type="date" />
              </div>
            </div>

            <div style="height:14px;"></div>

            <div class="grid-3">
              <div class="field">
                <label class="label" for="passengers">Passengers</label>
                <input id="passengers" class="input" type="number" min="1" max="20" value="1" />
              </div>

              <div class="field">
                <label class="label" for="luggage">Luggage (bags)</label>
                <input id="luggage" class="input" type="number" min="0" max="30" value="0" />
              </div>

              <div class="field">
                <label class="label" for="flight">Flight / Train (optional)</label>
                <input id="flight" class="input" type="text" placeholder="e.g., TP1365" />
              </div>
            </div>

            <div style="height:14px;"></div>

            <div class="field">
              <label class="label" for="notes">Notes (child seat, stops, VIP requests)</label>
              <textarea id="notes" class="input" rows="4" placeholder="Write anything important…"></textarea>
            </div>

            <div class="hero-actions" style="justify-content:flex-start; margin-top: 16px;">
              <button class="btn btn-gold" type="submit">Request quote</button>
              <a class="btn btn-ghost" href="/contactos.html">Contact</a>
            </div>

            <p class="micro" style="text-align:left; margin-top: 10px;">
              You’ll receive a discreet VIP confirmation and quote.
            </p>
          </form>
        </div>
      </div>
    </section>

    <button class="to-top" type="button" aria-label="Back to top" title="Back to top">↑</button>
  </main>

  <div id="site-footer"></div>

  <script defer src="/assets/js/nav.js"></script>
  <script defer src="/assets/js/dropdowns.js"></script>

  <script>
    // Inputs styling helper (matches VIP)
    (function () {
      const style = document.createElement('style');
      style.textContent = `
        .input{
          width:100%;
          background: rgba(0,0,0,0.55);
          border: 1px solid rgba(212,169,86,0.25);
          color: rgba(243,240,233,0.92);
          border-radius: 14px;
          padding: 12px 12px;
          font-size: 13.5px;
          font-weight: 460;
          outline: none;
          transition: border-color .18s ease, box-shadow .18s ease;
        }
        .input:focus{
          border-color: rgba(212,169,86,0.55);
          box-shadow: 0 0 0 3px rgba(212,169,86,0.18);
        }
        textarea.input{ resize: vertical; }
      `;
      document.head.appendChild(style);
    })();

    // Return date toggle when trip = return
    (function () {
      const form = document.getElementById('bookingForm');
      const tripHidden = form.querySelector('input[name="trip"]');
      const returnWrap = document.getElementById('returnWrap');

      const observer = new MutationObserver(() => {
        const v = tripHidden.value || '';
        returnWrap.style.display = (v === 'return') ? 'block' : 'none';
      });

      observer.observe(tripHidden, { attributes: true, attributeFilter: ['value'] });

      // also check on any click (safe)
      document.addEventListener('click', () => {
        const v = tripHidden.value || '';
        returnWrap.style.display = (v === 'return') ? 'block' : 'none';
      });

      // Submit -> creates a WhatsApp-ready message (you can swap to email later)
      form.addEventListener('submit', (e) => {
        e.preventDefault();

        const get = (id) => document.getElementById(id)?.value?.trim() || '';
        const hidden = (name) => form.querySelector(\`input[name="\${name}"]\`)?.value || '';

        const msg =
          `EPE Booking Request%0A` +
          `Trip: ${encodeURIComponent(hidden('trip'))}%0A` +
          `Service: ${encodeURIComponent(hidden('service'))}%0A` +
          `Vehicle: ${encodeURIComponent(hidden('vehicle'))}%0A` +
          `From: ${encodeURIComponent(hidden('from'))}%0A` +
          `To: ${encodeURIComponent(hidden('to'))}%0A` +
          `Pickup details: ${encodeURIComponent(get('pickupAddress'))}%0A` +
          `Date: ${encodeURIComponent(get('dateGo'))}  Time: ${encodeURIComponent(get('timeGo'))}%0A` +
          `Return date: ${encodeURIComponent(get('dateReturn'))}%0A` +
          `Passengers: ${encodeURIComponent(get('passengers'))}  Luggage: ${encodeURIComponent(get('luggage'))}%0A` +
          `Flight/Train: ${encodeURIComponent(get('flight'))}%0A` +
          `Notes: ${encodeURIComponent(get('notes'))}`;

        // PUT YOUR WhatsApp number here later: https://wa.me/<number>?text=
        // For now it opens WhatsApp and you paste/send (or update number)
        window.open(`https://wa.me/?text=${msg}`, '_blank', 'noopener');
      });
    })();

    // Back to top
    (function () {
      const btn = document.querySelector('.to-top');
      if (!btn) return;
      const toggle = () => btn.classList.toggle('show', (window.scrollY || 0) > 500);
      window.addEventListener('scroll', toggle, { passive: true });
      toggle();
      btn.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));
    })();
  </script>
</body>
</html>
